const http = require('http');

class Server {
  constructor(config) {
    this._hostname = config.hostname;
    this._port = config.port;
    this._eventEmitter = config.eventEmitter;
  }

  start() {
    http.createServer((req, res) => {
        this._eventEmitter.emit('newReq', req, res);
      })
      .listen(this._port, this._hostname, ()=> {
        console.log(`Server is running at ${this._hostname}:${this._port}`);
      });
  }
}

module.exports = Server;